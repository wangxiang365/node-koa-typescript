{"version":3,"sources":["webpack:///./src/views/my/setting/setPwd/setPwd.vue?dbe8","webpack:///./node_modules/vant/es/action-sheet/style/index.js","webpack:///./src/views/my/setting/setPwd/setPwd.vue?e0b3","webpack:///src/views/my/setting/setPwd/setPwd.vue","webpack:///./src/views/my/setting/setPwd/setPwd.vue?33dc","webpack:///./src/views/my/setting/setPwd/setPwd.vue","webpack:///./node_modules/vant/es/action-sheet/index.js","webpack:///./node_modules/vant/es/icon/style/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","push","_v","attrs","setPayPwd","back","showPasswordPop","finish","staticRenderFns","components","data","userInfo","isPayPasswordSte","mounted","JSON","parse","localStorage","getItem","isSetPaymentPassword","computed","methods","checkPassword","Promise","id","paymentPassword","val","parseInt","res","status","resolve","resData","$http","get","api","isSetPayPassword","then","personalData","cardStatus","component","_createNamespace","createComponent","bem","ActionSheet","h","props","slots","ctx","title","cancelText","onCancel","Header","closeIcon","Content","default","Option","item","index","disabled","loading","onClickOption","event","stopPropagation","callback","closeOnClickAction","OptionContent","name","subname","className","color","CancelText","Description","description","round","value","overlay","duration","lazyRender","lockScroll","getContainer","closeOnClickOverlay","safeAreaInsetBottom","actions","map","String","Array","Number","Function","Boolean","type"],"mappings":"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","file":"static/js/chunk-c1824ed6.1584768776983.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setPwd.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setPwd.vue?vue&type=style&index=0&lang=less&\"","import '../../style/base.css';\nimport '../../popup/index.css';\nimport '../../image/index.css';\nimport '../index.css';","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setPwd-wrap\"},[_c('ul',{staticClass:\"form\"},[_c('li',{on:{\"click\":function($event){return _vm.$router.push('/my/setting/resetLoginPwd')}}},[_c('div',[_vm._v(\"重置登录密码\")]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1),_c('li',{on:{\"click\":_vm.setPayPwd}},[_c('div',[_vm._v(\"重置支付密码\")]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('van-button',{staticClass:\"unverified-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"返回\")]),_c('numberKeyboard',{attrs:{\"show\":_vm.showPasswordPop},on:{\"finish\":_vm.finish,\"close\":function($event){_vm.showPasswordPop = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"setPwd-wrap\">\r\n      <ul class=\"form\">\r\n        <li @click=\"$router.push('/my/setting/resetLoginPwd')\">\r\n          <div>重置登录密码</div>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n        <li @click=\"setPayPwd\">\r\n          <div>重置支付密码</div>\r\n          <van-icon name=\"arrow\" />\r\n        </li>\r\n      </ul>\r\n      <van-button type=\"primary\" class=\"unverified-btn\" @click=\"$router.back()\">返回</van-button>\r\n      <!-- 密码、键盘框弹窗 -->\r\n      <numberKeyboard :show=\"showPasswordPop\" @finish=\"finish\" @close=\"showPasswordPop = false\"></numberKeyboard>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { Icon, Button, Popup, Area, ActionSheet, Toast } from 'vant'\r\nimport numberKeyboard from '../../../../components/numberKeyboard'\r\nexport default {\r\n  components: {\r\n    [Icon.name]: Icon,\r\n    [Button.name]: Button,\r\n    [Popup.name]: Popup,\r\n    [Area.name]: Area,\r\n    [ActionSheet.name]: ActionSheet,\r\n    numberKeyboard,\r\n    [Toast.name]: Toast\r\n  },\r\n  data () {\r\n    return {\r\n      showPasswordPop: false,\r\n      userInfo: {},\r\n      isPayPasswordSte: ''                 // 是否设置密码状态\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.userInfo = JSON.parse(localStorage.getItem('LZWLUSERINFO'))\r\n    this.isSetPaymentPassword()            // 是否设置的支付密码\r\n  },\r\n  computed: {\r\n    ...mapState(['personalData'])\r\n  },\r\n  methods: {\r\n    /**\r\n     * 校验支付密码是否正确\r\n    */\r\n    checkPassword (val) {\r\n      return new Promise((resolve, reject) => {\r\n        this.$http.post(this.api.checkPassword, {\r\n          id: this.userInfo.userId,\r\n          paymentPassword: val\r\n        }).then((res) => {\r\n          let resData = res.data\r\n          if (parseInt(res.data.status) === parseInt(this.api.ERR_OK)) {\r\n            resolve(resData)\r\n            return\r\n          }\r\n          this.$toast(resData.msg)\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     * 获取是否设置支付密码\r\n    */\r\n    isSetPaymentPassword () {\r\n      this.$http.get(this.api.isSetPayPassword).then((res) => {\r\n        let resData = res.data\r\n        if (parseInt(res.data.status) === parseInt(this.api.ERR_OK)) {\r\n          this.isPayPasswordSte = resData.data\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * 输入完成\r\n    */\r\n    async finish (val) {\r\n      let result = await this.checkPassword(val)\r\n      if (parseInt(result.status) === 1) {\r\n        this.showPasswordPop = false\r\n        this.$router.push('/my/setting/resetPayPwd')\r\n      }\r\n    },\r\n    /**\r\n     * 设置支付密码\r\n    */\r\n    setPayPwd () {\r\n      if (this.personalData.cardStatus) {              // 未实名认证\r\n        // localStorage.setItem('redirectUrl', '/my/setting')                   // 进入实名认证源\r\n        this.$router.push('/my/setting/realNameAuth')\r\n        this.showPasswordPop = true\r\n      } else {                                         // 已实名认证\r\n        if (this.isPayPasswordSte === 1) {\r\n          this.showPasswordPop = true\r\n        } else {\r\n          this.$router.push('/my/setting/resetPayPwd')\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=less>\r\n  .setPwd-wrap{\r\n    height: calc(100vh);\r\n    overflow: auto;\r\n    background: #1c1e3a;\r\n    .form {\r\n      width: 700px;\r\n      margin: 34px auto;\r\n      background: rgba(42, 49, 84, 0.6);\r\n      padding: 0 40px;\r\n      box-sizing: border-box;\r\n      li{\r\n        text-align: left;\r\n        height: 95px;\r\n        border-bottom:1px solid rgba(46, 46, 82, 1);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        font-size: 28px;\r\n        color: #fff;\r\n        &:last-child{\r\n          border:none;\r\n        }\r\n        .inp{\r\n          flex: 1;\r\n          input{\r\n            width: 100%;\r\n            height: 127px;\r\n            box-sizing: border-box;\r\n            background: none;\r\n            outline: none;\r\n            font-size: 28px;\r\n            color: rgba(131, 132, 160, 1);\r\n            padding-left: 50px;\r\n            padding-right: 20px;\r\n          }\r\n        }\r\n        .getCode{\r\n          width:159px;\r\n          height:51px;\r\n          line-height: 51px;\r\n          border: none;\r\n          background:rgba(105,129,251,1);\r\n          border-radius:10px;\r\n          cursor: pointer;\r\n          &.disabled{\r\n            background: #ccc;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .unverified-btn{\r\n      width: 622px;\r\n      height: 81px;\r\n      line-height: 0.81rem;\r\n      background: #6981fb;\r\n      border-radius: 0.1rem;\r\n      font-size: 0.28rem;\r\n      border: none;\r\n      margin: 0 auto;\r\n      cursor: pointer;\r\n      margin-top: 41px;\r\n    }\r\n    .tip{\r\n      font-size: 24px;\r\n      color: rgba(126, 127, 155, 1);\r\n      margin-top: 18px;\r\n      text-align: left;\r\n      margin-left: 68px;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setPwd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./setPwd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./setPwd.vue?vue&type=template&id=13b8c541&\"\nimport script from \"./setPwd.vue?vue&type=script&lang=js&\"\nexport * from \"./setPwd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setPwd.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace } from '../utils';\nimport { emit, inherit } from '../utils/functional';\nimport { BORDER_TOP, BORDER_BOTTOM } from '../utils/constant';\nimport { PopupMixin } from '../mixins/popup';\nimport Icon from '../icon';\nimport Popup from '../popup';\nimport Loading from '../loading'; // Types\n\nvar _createNamespace = createNamespace('action-sheet'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction ActionSheet(h, props, slots, ctx) {\n  var title = props.title,\n      cancelText = props.cancelText;\n\n  function onCancel() {\n    emit(ctx, 'input', false);\n    emit(ctx, 'cancel');\n  }\n\n  function Header() {\n    if (title) {\n      return h(\"div\", {\n        \"class\": [bem('header'), BORDER_BOTTOM]\n      }, [title, h(Icon, {\n        \"attrs\": {\n          \"name\": props.closeIcon\n        },\n        \"class\": bem('close'),\n        \"on\": {\n          \"click\": onCancel\n        }\n      })]);\n    }\n  }\n\n  function Content() {\n    if (slots.default) {\n      return h(\"div\", {\n        \"class\": bem('content')\n      }, [slots.default()]);\n    }\n  }\n\n  function Option(item, index) {\n    var disabled = item.disabled || item.loading;\n\n    function onClickOption(event) {\n      event.stopPropagation();\n\n      if (item.disabled || item.loading) {\n        return;\n      }\n\n      if (item.callback) {\n        item.callback(item);\n      }\n\n      emit(ctx, 'select', item, index);\n\n      if (props.closeOnClickAction) {\n        emit(ctx, 'input', false);\n      }\n    }\n\n    function OptionContent() {\n      if (item.loading) {\n        return h(Loading, {\n          \"attrs\": {\n            \"size\": \"20px\"\n          }\n        });\n      }\n\n      return [h(\"span\", {\n        \"class\": bem('name')\n      }, [item.name]), item.subname && h(\"span\", {\n        \"class\": bem('subname')\n      }, [item.subname])];\n    }\n\n    return h(\"button\", {\n      \"class\": [bem('item', {\n        disabled: disabled\n      }), item.className, BORDER_TOP],\n      \"style\": {\n        color: item.color\n      },\n      \"on\": {\n        \"click\": onClickOption\n      }\n    }, [OptionContent()]);\n  }\n\n  function CancelText() {\n    if (cancelText) {\n      return h(\"button\", {\n        \"class\": bem('cancel'),\n        \"on\": {\n          \"click\": onCancel\n        }\n      }, [cancelText]);\n    }\n  }\n\n  var Description = props.description && h(\"div\", {\n    \"class\": bem('description')\n  }, [props.description]);\n  return h(Popup, _mergeJSXProps([{\n    \"class\": bem(),\n    \"attrs\": {\n      \"position\": \"bottom\",\n      \"round\": props.round,\n      \"value\": props.value,\n      \"overlay\": props.overlay,\n      \"duration\": props.duration,\n      \"lazyRender\": props.lazyRender,\n      \"lockScroll\": props.lockScroll,\n      \"getContainer\": props.getContainer,\n      \"closeOnClickOverlay\": props.closeOnClickOverlay,\n      \"safeAreaInsetBottom\": props.safeAreaInsetBottom\n    }\n  }, inherit(ctx, true)]), [Header(), Description, props.actions && props.actions.map(Option), Content(), CancelText()]);\n}\n\nActionSheet.props = _extends({}, PopupMixin.props, {\n  title: String,\n  actions: Array,\n  duration: Number,\n  cancelText: String,\n  description: String,\n  getContainer: [String, Function],\n  closeOnClickAction: Boolean,\n  round: {\n    type: Boolean,\n    default: true\n  },\n  closeIcon: {\n    type: String,\n    default: 'close'\n  },\n  safeAreaInsetBottom: {\n    type: Boolean,\n    default: true\n  },\n  overlay: {\n    type: Boolean,\n    default: true\n  },\n  closeOnClickOverlay: {\n    type: Boolean,\n    default: true\n  }\n});\nexport default createComponent(ActionSheet);","import '../../style/base.css';\nimport '../../image/index.css';"],"sourceRoot":""}