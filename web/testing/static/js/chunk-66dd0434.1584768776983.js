(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66dd0434"],{2345:function(e,t,a){"use strict";var s=a("fcb0"),n=a.n(s);n.a},"2cbd":function(e,t,a){"use strict";a("68ef"),a("4d75"),a("09fe"),a("8400")},8400:function(e,t,a){},ab2c:function(e,t,a){"use strict";var s=a("c31d"),n=a("2638"),r=a.n(n),o=a("d282"),i=a("ba31"),c=a("b1d2"),l=a("6605"),u=a("ad06"),d=a("e41f"),p=a("543e"),h=Object(o["a"])("action-sheet"),m=h[0],f=h[1];function v(e,t,a,s){var n=t.title,o=t.cancelText;function l(){Object(i["a"])(s,"input",!1),Object(i["a"])(s,"cancel")}function h(){if(n)return e("div",{class:[f("header"),c["b"]]},[n,e(u["a"],{attrs:{name:t.closeIcon},class:f("close"),on:{click:l}})])}function m(){if(a.default)return e("div",{class:f("content")},[a.default()])}function v(a,n){var r=a.disabled||a.loading;function o(e){e.stopPropagation(),a.disabled||a.loading||(a.callback&&a.callback(a),Object(i["a"])(s,"select",a,n),t.closeOnClickAction&&Object(i["a"])(s,"input",!1))}function l(){return a.loading?e(p["a"],{attrs:{size:"20px"}}):[e("span",{class:f("name")},[a.name]),a.subname&&e("span",{class:f("subname")},[a.subname])]}return e("button",{class:[f("item",{disabled:r}),a.className,c["e"]],style:{color:a.color},on:{click:o}},[l()])}function y(){if(o)return e("button",{class:f("cancel"),on:{click:l}},[o])}var b=t.description&&e("div",{class:f("description")},[t.description]);return e(d["a"],r()([{class:f(),attrs:{position:"bottom",round:t.round,value:t.value,overlay:t.overlay,duration:t.duration,lazyRender:t.lazyRender,lockScroll:t.lockScroll,getContainer:t.getContainer,closeOnClickOverlay:t.closeOnClickOverlay,safeAreaInsetBottom:t.safeAreaInsetBottom}},Object(i["b"])(s,!0)]),[h(),b,t.actions&&t.actions.map(v),m(),y()])}v.props=Object(s["a"])({},l["a"].props,{title:String,actions:Array,duration:Number,cancelText:String,description:String,getContainer:[String,Function],closeOnClickAction:Boolean,round:{type:Boolean,default:!0},closeIcon:{type:String,default:"close"},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}}),t["a"]=m(v)},bc3a:function(e,t,a){"use strict";a.r(t);var s,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setting-wrap"},[a("ul",{staticClass:"ul"},[a("li",[a("div",{staticClass:"left"},[e._v("账号(手机号)")]),a("div",{staticClass:"center",on:{click:function(t){return e.$router.push("/my/setting/modifyPhone")}}},[e._v(e._s(e._f("filterPhone")(e.personalData.phone)))]),a("van-icon",{attrs:{name:"arrow"}})],1),a("li",[a("div",{staticClass:"left"},[e._v("用户名")]),a("div",{staticClass:"center",on:{click:function(t){return e.$router.push("/my/setting/modifyName")}}},[e._v(e._s(e.personalData.userName))]),a("van-icon",{attrs:{name:"arrow"}})],1),a("li",[a("div",{staticClass:"left"},[e._v("地区")]),a("div",{staticClass:"center",on:{click:function(t){e.showArea=!0}}},[e._v(e._s(e.userForm.selectCity.map((function(e){return e.name})).join(" ")))]),a("van-icon",{attrs:{name:"arrow"}})],1),a("li",[a("div",{staticClass:"left"},[e._v("性别")]),a("div",{staticClass:"center",on:{click:function(t){e.showGender=!0}}},[e.userForm.selectGender.val?[e._v(e._s(e._f("sexStatusFilter")(e.userForm.selectGender.val)))]:[e._v("未设置")]],2),a("van-icon",{attrs:{name:"arrow"}})],1),a("li",[a("div",{staticClass:"left"},[e._v("实名认证")]),a("div",{staticClass:"center",on:{click:function(t){return e.$router.push("/my/setting/realNameAuth")}}},[e._v(e._s(void 0!==e.personalData.cardStatus?e.personalData.cardStatus?"去认证":e.personalData.cardName+"（已实名）":"去认证"))]),a("van-icon",{attrs:{name:"arrow"}})],1),a("li",{on:{click:function(t){return e.$router.push("/my/setting/setPwd")}}},[a("div",{staticClass:"left"},[e._v("密码设置")]),a("div",{staticClass:"center"}),a("van-icon",{attrs:{name:"arrow"}})],1),a("li",{on:{click:function(t){return e.$router.push("/my/setting/bankCard")}}},[a("div",{staticClass:"left"},[e._v("银行卡")]),a("div",{staticClass:"center"}),a("van-icon",{attrs:{name:"arrow"}})],1),a("li",{on:{click:function(t){return e.addAccount(1)}}},[a("div",{staticClass:"left"},[e._v("绑定支付宝")]),e.personalData.alipayNum?a("div",{staticClass:"center"},[e._v(e._s(e._f("filterPhone")(e.personalData.alipayNum)))]):a("div",{staticClass:"center"},[e._v("未设置")]),a("van-icon",{attrs:{name:"arrow"}})],1),a("li",{on:{click:function(t){return e.addAccount(2)}}},[a("div",{staticClass:"left"},[e._v("绑定微信")]),e.personalData.ifSetWechat?a("div",{staticClass:"center"},[e._v(e._s(e._f("filterName")(e.personalData.wechatNickname)))]):a("div",{staticClass:"center"},[e._v("未设置")]),a("van-icon",{attrs:{name:"arrow"}})],1)]),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showArea,callback:function(t){e.showArea=t},expression:"showArea"}},[a("van-area",{attrs:{"area-list":e.areaList,value:e.userForm.selectCityCode},on:{confirm:e.getAreaData,cancel:function(t){e.showArea=!1}}})],1),a("van-action-sheet",{attrs:{actions:e.genderList,title:"请选择",round:!1},on:{select:e.selectGender},model:{value:e.showGender,callback:function(t){e.showGender=t},expression:"showGender"}}),a("van-button",{staticClass:"loginout",attrs:{type:"primary"},on:{click:e.exitFun}},[e._v("退出登录")]),a("numberKeyboard",{attrs:{show:e.showPasswordPop},on:{finish:e.finish,close:function(t){e.showPasswordPop=!1}}})],1)},r=[],o=(a("a4d3"),a("99af"),a("4de4"),a("4160"),a("b0c0"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("e25e"),a("ac1f"),a("5319"),a("159b"),a("96cf"),a("2fa7")),i=(a("e7e5"),a("d399")),c=(a("2cbd"),a("ab2c")),l=(a("db2c"),a("1125")),u=(a("8a58"),a("e41f")),d=(a("66b9"),a("b650")),p=(a("c3a6"),a("ad06")),h=a("2f62"),m=a("33eb"),f=a("f480");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={components:(s={},Object(o["a"])(s,p["a"].name,p["a"]),Object(o["a"])(s,d["a"].name,d["a"]),Object(o["a"])(s,u["a"].name,u["a"]),Object(o["a"])(s,l["a"].name,l["a"]),Object(o["a"])(s,c["a"].name,c["a"]),Object(o["a"])(s,"numberKeyboard",f["a"]),Object(o["a"])(s,i["a"].name,i["a"]),s),data:function(){return{userInfo:"",showArea:!1,showGender:!1,areaList:m["a"],genderList:[{name:"男",val:"1"},{name:"女",val:"2"}],userForm:{selectCity:[],selectCityCode:"",selectGender:[]},showPasswordPop:!1,isPayPasswordSte:null,accountType:""}},computed:y({},Object(h["b"])(["personalData"])),mounted:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.userInfo=JSON.parse(localStorage.getItem("LZWLUSERINFO"));case 1:case"end":return e.stop()}}),null,this)},watch:{personalData:{handler:function(){this.userForm.selectCity=[{name:this.personalData.userProvince,code:this.personalData.userProvinceCode},{name:this.personalData.userCity,code:this.personalData.userCityCode},{name:this.personalData.userZone,code:this.personalData.userZoneCode}],this.userForm.selectGender={val:this.personalData.sex},this.userForm.selectCity[0].code&&this.userForm.selectCity[1].code?this.userForm.selectCityCode="".concat(this.userForm.selectCity[0].code,", ").concat(this.userForm.selectCity[1].code,", ").concat(this.userForm.selectCity[2].code):this.userForm.selectCityCode="110000,110100,110101"},immediate:!0,deep:!0}},methods:{getAreaData:function(e){var t=this;this.showArea=!1,this.userForm.selectCity=e,this.$http.post("".concat(this.api.saveUser),{userProvinceCode:this.userForm.selectCity[0].code,userProvince:this.userForm.selectCity[0].name,userCityCode:this.userForm.selectCity[1].code,userCity:this.userForm.selectCity[1].name,userZoneCode:this.userForm.selectCity[2].code,userZone:this.userForm.selectCity[2].name,id:this.userInfo.userId||""}).then((function(e){t.$toast(e.data.msg)}))},selectGender:function(e){this.showGender=!1,this.userForm.selectGender=e,this.$http.post(this.api.saveUser,{sex:this.userForm.selectGender.val||""}).then((function(e){var t=e.data;Object(i["a"])(t.msg)}))},isSetPaymentPassword:function(){var e=this;return new Promise((function(t,a){e.$http.get(e.api.isSetPayPassword).then((function(a){var s=a.data;parseInt(a.data.status)!==parseInt(e.api.ERR_OK)?e.$toast(s.msg):t(s.data)}))}))},checkPassword:function(e){var t=this;return new Promise((function(a,s){t.$http.post(t.api.checkPassword,{id:t.userInfo.userId,paymentPassword:e}).then((function(e){var s=e.data;parseInt(e.data.status)!==parseInt(t.api.ERR_OK)?t.$toast(s.msg):a(s)}))}))},addAccount:function(e){var t;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return this.accountType=e,a.next=3,regeneratorRuntime.awrap(this.isSetPaymentPassword());case 3:t=a.sent,this.personalData.cardStatus&&(1===e&&localStorage.setItem("redirectUrl","/my/setting/addAlipay"),2===e&&localStorage.setItem("redirectUrl","/bindWeChat"),this.$router.push("/my/setting/realNameAuth")),this.personalData.cardStatus||0!==t||(1===e&&localStorage.setItem("redirectUrl","/my/setting/addAlipay"),2===e&&localStorage.setItem("redirectUrl","/bindWeChat"),this.$router.push("/my/setting/resetPayPwd")),this.personalData.cardStatus||1!==t||(this.showPasswordPop=!0),this.showPasswordPop=!0;case 8:case"end":return a.stop()}}),null,this)},finish:function(e){var t;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.checkPassword(e));case 2:t=a.sent,1===parseInt(t.status)&&(this.showPasswordPop=!1,1===this.accountType&&this.$router.push("/my/setting/addAlipay"),2===this.accountType&&this.$router.push({path:"/bindWeChat",query:{token:""}}));case 4:case"end":return a.stop()}}),null,this)},exitFun:function(){var e=this;this.$http.post("".concat(this.api.logout),{phone:this.userInfo?this.userInfo.phone:"",token:this.userInfo?this.userInfo.token:""}).then((function(t){if(t.data.status===e.api.ERR_OK||!t){localStorage.removeItem("LZWLUSERINFO");var a=JSON.parse(localStorage.getItem("accountMes"));a.password="",a.rememberPwd=!0,localStorage.setItem("accountMes",JSON.stringify(a)),Object(i["a"])(t.data.msg),e.$router.replace({path:"/login"})}}))}}},w=b,C=(a("2345"),a("2877")),g=Object(C["a"])(w,n,r,!1,null,null,null);t["default"]=g.exports},c3a6:function(e,t,a){"use strict";a("68ef"),a("09fe")},fcb0:function(e,t,a){}}]);
//# sourceMappingURL=chunk-66dd0434.1584768776983.js.map