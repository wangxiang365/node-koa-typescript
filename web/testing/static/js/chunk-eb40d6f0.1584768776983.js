(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb40d6f0"],{"127b":function(t,e,a){"use strict";var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sendCode-wrap"},[a("div",{staticClass:"user"},[t._v(" 我们已向 "+t._s(t.phone)+" 发送验证码短信，请查看短信并输入验证码 ")]),a("van-password-input",{attrs:{value:t.passwordVal,length:4,gutter:15,mask:!1,focused:t.showKeyboard},on:{focus:function(e){t.showKeyboard=!0}}}),a("van-number-keyboard",{attrs:{show:t.showKeyboard},on:{blur:function(e){t.showKeyboard=!1},input:function(e){return t.keyboardEntry(e,1)},delete:function(e){return t.keyboardEntry(e,2)}}}),a("div",{staticClass:"tip",on:{click:function(e){t.repeatSte=!0}}},[t._v("收不到验证码短信？")]),a("van-action-sheet",{attrs:{actions:t.repeatList,"cancel-text":"取消",round:!1},on:{select:t.selectrepeat,cancel:function(e){t.repeatSte=!1}},model:{value:t.repeatSte,callback:function(e){t.repeatSte=e},expression:"repeatSte"}}),a("van-button",{staticClass:"next",attrs:{type:"primary"},on:{click:t.handlevValidateCode}},[t._v("下一步")])],1)},o=[],i=(a("fb6a"),a("b0c0"),a("2fa7")),r=(a("2cbd"),a("ab2c")),c=(a("8fec"),a("7bd9")),l=(a("9e6b"),a("c41f")),u=(a("e7e5"),a("d399")),d=(a("66b9"),a("b650")),h={props:["phone"],components:(n={},Object(i["a"])(n,d["a"].name,d["a"]),Object(i["a"])(n,u["a"].name,u["a"]),Object(i["a"])(n,l["a"].name,l["a"]),Object(i["a"])(n,c["a"].name,c["a"]),Object(i["a"])(n,r["a"].name,r["a"]),n),data:function(){return{repeatList:[{name:"重新获取验证短信",val:"1"}],length:4,repeatSte:!1,passwordVal:"",showKeyboard:!1}},mounted:function(){},methods:{keyboardEntry:function(t,e){1===e&&(this.passwordVal=(this.passwordVal+t).slice(0,this.length)),2===e&&(this.passwordVal=this.passwordVal.slice(0,this.passwordVal.length-1))},selectrepeat:function(t){this.repeatSte=!1,this.handleSendCode()},handleSendCode:function(){var t=this;this.$http.post(this.api.getValidWord,{phone:this.phone}).then((function(e){t.$toast(e.data.msg)}))},handlevValidateCode:function(){var t=this;!this.passwordVal||this.passwordVal.length<4?this.$toast("请输入正确的验证码"):this.$http.post("".concat(this.api.checkVerifyCode),{phone:this.phone,verifyCode:this.passwordVal}).then((function(e){if(e.data.status!==t.api.ERR_OK||!e)return t.$toast(e.data.msg),!1;t.$emit("next",t.passwordVal)}))}}},p=h,f=(a("ac1c"),a("2877")),m=Object(f["a"])(p,s,o,!1,null,null,null);e["a"]=m.exports},"2cbd":function(t,e,a){"use strict";a("68ef"),a("4d75"),a("09fe"),a("8400")},"3c71":function(t,e,a){},5415:function(t,e,a){},"7bd9":function(t,e,a){"use strict";var n=a("d282"),s=a("1325"),o=a("b1d2"),i=a("5fbe"),r=a("3875"),c=Object(n["a"])("key"),l=c[0],u=c[1],d=l({mixins:[r["a"]],props:{type:String,text:[Number,String],theme:{type:Array,default:function(){return[]}}},data:function(){return{active:!1}},computed:{className:function(){var t=this.theme.slice(0);return this.active&&t.push("active"),this.type&&t.push(this.type),u(t)}},methods:{onTouchStart:function(t){t.stopPropagation(),this.touchStart(t),this.active=!0},onTouchMove:function(t){this.touchMove(t),this.direction&&(this.active=!1)},onTouchEnd:function(){this.active&&(this.active=!1,this.$emit("press",this.text,this.type))}},render:function(){var t=arguments[0];return t("i",{attrs:{role:"button",tabindex:"0"},class:[o["a"],this.className],on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[this.slots("default")||this.text])}}),h=Object(n["a"])("number-keyboard"),p=h[0],f=h[1],m=h[2],b=["blue","big"],v=["delete","big","gray"];e["a"]=p({mixins:[Object(i["a"])((function(t){this.hideOnClickOutside&&t(document.body,"touchstart",this.onBlur)}))],model:{event:"update:value"},props:{show:Boolean,title:String,closeButtonText:String,deleteButtonText:String,theme:{type:String,default:"default"},value:{type:String,default:""},extraKey:{type:String,default:""},maxlength:{type:[Number,String],default:Number.MAX_VALUE},zIndex:{type:Number,default:100},transition:{type:Boolean,default:!0},showDeleteKey:{type:Boolean,default:!0},hideOnClickOutside:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0}},watch:{show:function(){this.transition||this.$emit(this.show?"show":"hide")}},computed:{keys:function(){for(var t=[],e=1;e<=9;e++)t.push({text:e});switch(this.theme){case"default":t.push({text:this.extraKey,theme:["gray"],type:"extra"},{text:0},{text:this.deleteText,theme:["gray"],type:"delete"});break;case"custom":t.push({text:0,theme:["middle"]},{text:this.extraKey,type:"extra"});break}return t},deleteText:function(){return this.deleteButtonText||m("delete")}},methods:{onBlur:function(){this.$emit("blur")},onClose:function(){this.$emit("close"),this.onBlur()},onAnimationEnd:function(){this.$emit(this.show?"show":"hide")},onPress:function(t,e){if(""!==t){var a=this.value;"delete"===e?(this.$emit("delete"),this.$emit("update:value",a.slice(0,a.length-1))):"close"===e?this.onClose():a.length<this.maxlength&&(this.$emit("input",t),this.$emit("update:value",a+t))}}},render:function(){var t=this,e=arguments[0],a=this.title,n=this.theme,i=this.onPress,r=this.closeButtonText,c=this.slots("title-left"),l=r&&"default"===n,u=a||l||c,h=u&&e("div",{class:[f("title"),o["e"]]},[c&&e("span",{class:f("title-left")},[c]),a&&e("span",[a]),l&&e("span",{attrs:{role:"button",tabindex:"0"},class:f("close"),on:{click:this.onClose}},[r])]),p=this.keys.map((function(a){return e(d,{key:a.text,attrs:{text:a.text,type:a.type,theme:a.theme},on:{press:i}},["delete"===a.type&&t.slots("delete"),"extra"===a.type&&t.slots("extra-key")])})),m="custom"===n&&e("div",{class:f("sidebar")},[e(d,{attrs:{text:this.deleteText,type:"delete",theme:v},on:{press:i}},[this.slots("delete")]),e(d,{attrs:{text:r,type:"close",theme:b},on:{press:i}})]);return e("transition",{attrs:{name:this.transition?"van-slide-up":""}},[e("div",{directives:[{name:"show",value:this.show}],style:{zIndex:this.zIndex},class:f([n,{"safe-area-inset-bottom":this.safeAreaInsetBottom}]),on:{touchstart:s["d"],animationend:this.onAnimationEnd,webkitAnimationEnd:this.onAnimationEnd}},[h,e("div",{class:f("body")},[p,m])])])}})},"7da6":function(t,e,a){"use strict";var n=a("fb3d"),s=a.n(n);s.a},8400:function(t,e,a){},"8ec9":function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"forgotPassword-wrap"},[0===t.curStep?a("div",{staticClass:"set-pwd"},[a("div",{staticClass:"tit"},[t._v("请填写您要找回密码的账号")]),a("ul",[a("li",[a("div",{staticClass:"inp"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],attrs:{type:"tel",placeholder:"请输入手机号",maxlength:"11"},domProps:{value:t.formData.phone},on:{input:function(e){e.target.composing||t.$set(t.formData,"phone",e.target.value)}}})])])]),a("van-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.secondStep}},[t._v("下一步")])],1):t._e(),1===t.curStep?a("sendCode",{attrs:{phone:t.formData.phone},on:{next:t.thirdStep}}):t._e(),2===t.curStep?a("div",{staticClass:"set-pwd"},[a("div",{staticClass:"tit"},[t._v("请为您的账号"+t._s(t.formData.phone)+"设置一个新密码")]),a("ul",[a("li",[a("div",{staticClass:"inp"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"6-20个字符"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}})])])]),a("van-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.handleSavePassword}},[t._v("保存新密码")])],1):t._e()],1)},o=[],i=(a("b0c0"),a("d3b7"),a("ac1f"),a("466d"),a("5319"),a("96cf"),a("2fa7")),r=(a("e17f"),a("2241")),c=(a("c3a6"),a("ad06")),l=(a("e7e5"),a("d399")),u=(a("66b9"),a("b650")),d=(a("3c32"),a("417e")),h=a("127b"),p={components:(n={},Object(i["a"])(n,d["a"].name,d["a"]),Object(i["a"])(n,u["a"].name,u["a"]),Object(i["a"])(n,l["a"].name,l["a"]),Object(i["a"])(n,c["a"].name,c["a"]),Object(i["a"])(n,r["a"].Component.name,r["a"].Component),Object(i["a"])(n,"sendCode",h["a"]),n),data:function(){return{formData:{phone:"",code:"",password:""},curStep:0}},watch:{},mounted:function(){},methods:{handleSendCode:function(){var t=this;if(!this.formData.phone.match(/^1\d{10}$/))return this.$toast("请输入正确的手机号"),!1;this.$http.post(this.api.getValidWord,{phone:this.formData.phone}).then((function(e){var a=e.data;a.status===t.api.ERR_OK&&(t.curStep=1),t.$toast(e.data.msg)}))},getIsRegister:function(){var t=this;return new Promise((function(e,a){t.$http.post(t.api.isRegister,{phone:t.formData.phone}).then((function(a){var n=a.data;if(n.status===t.api.ERR_OK)return t.$toast("该用户尚未注册"),!1;e(!0)}))}))},secondStep:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(this.formData.phone){e.next=5;break}return Object(l["a"])("请输入手机号"),e.abrupt("return",!1);case 5:if(this.formData.phone.match(/^1\d{10}$/g)){e.next=8;break}return Object(l["a"])("请输入正确的手机号"),e.abrupt("return",!1);case 8:return e.next=10,regeneratorRuntime.awrap(this.getIsRegister());case 10:t=e.sent,t&&this.handleSendCode();case 12:case"end":return e.stop()}}),null,this)},thirdStep:function(t){this.formData.code=t,this.curStep=2},handleSavePassword:function(){var t,e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(t=this.formData.password,t){a.next=6;break}return this.$toast("请输入密码"),a.abrupt("return",!1);case 6:if(!(t.length<6||t.length>20)){a.next=9;break}return this.$toast("密码6-20位"),a.abrupt("return",!1);case 9:return a.next=11,regeneratorRuntime.awrap(this.$http.post("".concat(this.api.resetPassword),{phone:this.formData.phone,password:this.formData.password,confirmPwd:this.formData.password,verifyCode:this.formData.code}));case 11:e=a.sent,this.$toast(e.data.msg),e.data.status===this.api.ERR_OK&&this.$router.replace("/login");case 14:case"end":return a.stop()}}),null,this)}}},f=p,m=(a("7da6"),a("2877")),b=Object(m["a"])(f,s,o,!1,null,null,null);e["default"]=b.exports},"8fec":function(t,e,a){"use strict";a("68ef"),a("3c71")},"9e6b":function(t,e,a){"use strict";a("68ef"),a("ef62")},ab2c:function(t,e,a){"use strict";var n=a("c31d"),s=a("2638"),o=a.n(s),i=a("d282"),r=a("ba31"),c=a("b1d2"),l=a("6605"),u=a("ad06"),d=a("e41f"),h=a("543e"),p=Object(i["a"])("action-sheet"),f=p[0],m=p[1];function b(t,e,a,n){var s=e.title,i=e.cancelText;function l(){Object(r["a"])(n,"input",!1),Object(r["a"])(n,"cancel")}function p(){if(s)return t("div",{class:[m("header"),c["b"]]},[s,t(u["a"],{attrs:{name:e.closeIcon},class:m("close"),on:{click:l}})])}function f(){if(a.default)return t("div",{class:m("content")},[a.default()])}function b(a,s){var o=a.disabled||a.loading;function i(t){t.stopPropagation(),a.disabled||a.loading||(a.callback&&a.callback(a),Object(r["a"])(n,"select",a,s),e.closeOnClickAction&&Object(r["a"])(n,"input",!1))}function l(){return a.loading?t(h["a"],{attrs:{size:"20px"}}):[t("span",{class:m("name")},[a.name]),a.subname&&t("span",{class:m("subname")},[a.subname])]}return t("button",{class:[m("item",{disabled:o}),a.className,c["e"]],style:{color:a.color},on:{click:i}},[l()])}function v(){if(i)return t("button",{class:m("cancel"),on:{click:l}},[i])}var y=e.description&&t("div",{class:m("description")},[e.description]);return t(d["a"],o()([{class:m(),attrs:{position:"bottom",round:e.round,value:e.value,overlay:e.overlay,duration:e.duration,lazyRender:e.lazyRender,lockScroll:e.lockScroll,getContainer:e.getContainer,closeOnClickOverlay:e.closeOnClickOverlay,safeAreaInsetBottom:e.safeAreaInsetBottom}},Object(r["b"])(n,!0)]),[p(),y,e.actions&&e.actions.map(b),f(),v()])}b.props=Object(n["a"])({},l["a"].props,{title:String,actions:Array,duration:Number,cancelText:String,description:String,getContainer:[String,Function],closeOnClickAction:Boolean,round:{type:Boolean,default:!0},closeIcon:{type:String,default:"close"},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}}),e["a"]=f(b)},ac1c:function(t,e,a){"use strict";var n=a("5415"),s=a.n(n);s.a},c3a6:function(t,e,a){"use strict";a("68ef"),a("09fe")},c41f:function(t,e,a){"use strict";var n=a("2638"),s=a.n(n),o=a("d282"),i=a("ea8e"),r=a("ba31"),c=a("b1d2"),l=Object(o["a"])("password-input"),u=l[0],d=l[1];function h(t,e,a,n){for(var o,l=e.errorInfo||e.info,u=[],h=0;h<e.length;h++){var p,f=e.value[h],m=0!==h&&!e.gutter,b=e.focused&&h===e.value.length,v=void 0;0!==h&&e.gutter&&(v={marginLeft:Object(i["a"])(e.gutter)}),u.push(t("li",{class:(p={},p[c["c"]]=m,p),style:v},[e.mask?t("i",{style:{visibility:f?"visible":"hidden"}}):f,b&&t("div",{class:d("cursor")})]))}return t("div",{class:d()},[t("ul",s()([{class:[d("security"),(o={},o[c["d"]]=!e.gutter,o)],on:{touchstart:function(t){t.stopPropagation(),Object(r["a"])(n,"focus",t)}}},Object(r["b"])(n,!0)]),[u]),l&&t("div",{class:d(e.errorInfo?"error-info":"info")},[l])])}h.props={info:String,gutter:[Number,String],focused:Boolean,errorInfo:String,mask:{type:Boolean,default:!0},value:{type:String,default:""},length:{type:Number,default:6}},e["a"]=u(h)},ef62:function(t,e,a){},fb3d:function(t,e,a){},fb6a:function(t,e,a){"use strict";var n=a("23e7"),s=a("861d"),o=a("e8b5"),i=a("23cb"),r=a("50c4"),c=a("fc6a"),l=a("8418"),u=a("1dde"),d=a("b622"),h=d("species"),p=[].slice,f=Math.max;n({target:"Array",proto:!0,forced:!u("slice")},{slice:function(t,e){var a,n,u,d=c(this),m=r(d.length),b=i(t,m),v=i(void 0===e?m:e,m);if(o(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?s(a)&&(a=a[h],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return p.call(d,b,v);for(n=new(void 0===a?Array:a)(f(v-b,0)),u=0;b<v;b++,u++)b in d&&l(n,u,d[b]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-eb40d6f0.1584768776983.js.map